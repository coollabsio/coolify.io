---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/Hero.astro";
import Sponspors from "../components/sponsors/Sponsors.astro";
import Features from "../components/Features.astro";
---

<Layout
  title="Coolify"
  canonicalUrl="https://coolify.io/"
  description="Self-hosting platform with superpowers. Deploy apps, databases & 280+ services to your server. Open-source alternative to Heroku."
>
  <Hero />
  <Sponspors />
  <Features />
</Layout>

<script>
  // Fetch cloud users from business.json
  fetch("https://cdn.coolify.io/business.json")
    .then((res) => res.json())
    .then((data) => {
      const cloudUsersEl = document.getElementById("cloud-users");
      if (cloudUsersEl && data["cloud-users"]) {
        cloudUsersEl.textContent = data["cloud-users"].toLocaleString();
      }
    })
    .catch(() => {
      // Keep the default value on error
    });
</script>
